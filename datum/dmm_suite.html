<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="utf-8" />
    
    <base href="../" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="extra.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <title>&#x2F;datum&#x2F;dmm_suite - Paradise Code Docs</title>
    
</head>

<body>
    <nav>
        <div class="nav-wrapper blue">
            <a href="index.html" class="brand-logo">&nbsp;Paradise Code Docs</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                
                <li><a href="index.html#modules">Modules</a></li>
                <li><a href="index.html#types">Types</a></li>
                
            </ul>
        </div>
    </nav>
    <main class="container">
<h1>dmm_suite <aside>/<a href="datum.html">datum</a>/<a href="datum/dmm_suite.html">dmm_suite</a></aside>
        
    
            <a href="https://github.com/yosoyrebelde/Paradise/blob/787b2ad39a8a64df791fb97054ed55da6eddd735/code/modules/awaymissions/maploader/dmm_suite.dm#L55">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;awaymissions&#x2F;maploader&#x2F;dmm_suite.dm 55"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2><a href="datum/dmm_suite.html#proc">Jump To Proc Details</a></td></tr>
            <tr><th><a href="datum/dmm_suite.html#proc/load_map">load_map</a></th><td>Construct the model map and control the loading process</td></tr>
            <tr><th><a href="datum/dmm_suite.html#proc/parse_grid">parse_grid</a></th><td>Fill a given tile with its area/turf/objects/mobs
Variable model is one full map line (e.g /turf/unsimulated/wall{icon_state = &quot;rock&quot;},/area/mine/dangerous/explored)</td></tr></table><h2 id="proc">Proc Details</h2><h5 id="proc/load_map"><aside class="declaration">proc </aside>load_map<aside>(dmm_file, x_offset, y_offset, z_offset, shouldCropMap, measureOnly) 
        
    
            <a href="https://github.com/yosoyrebelde/Paradise/blob/787b2ad39a8a64df791fb97054ed55da6eddd735/code/modules/awaymissions/maploader/reader.dm#L28">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;awaymissions&#x2F;maploader&#x2F;reader.dm 28"/></a></aside>
        </h5>
        <p>Construct the model map and control the loading process</p>
<p>WORKING :</p>
<ol>
<li>Makes an associative mapping of model_keys with model
e.g aa = /turf/unsimulated/wall{icon_state = &quot;rock&quot;}</li>
<li>Read the map line by line, parsing the result (using parse_grid)</li>
</ol>
<p>If <code>measureOnly</code> is set, then no atoms will be created, and all this will do
is return the bounds after parsing the file</p>
<p>If you need to freeze init while you're working, you can use the spacial allocator's
&quot;add_dirt&quot; and &quot;remove_dirt&quot; which will put initializations on hold until you say
the word. This is important for loading large maps such as the cyberiad, where
atmos will attempt to start before it's ready, causing runtimes galore if init is
allowed to romp unchecked.</p><h5 id="proc/parse_grid"><aside class="declaration">proc </aside>parse_grid<aside>(model, xcrd, ycrd, zcrd, /<a href="datum.html">datum</a>/<a href="datum/dmm_suite.html">dmm_suite</a>/loaded_map/LM) 
        
    
            <a href="https://github.com/yosoyrebelde/Paradise/blob/787b2ad39a8a64df791fb97054ed55da6eddd735/code/modules/awaymissions/maploader/reader.dm#L192">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;awaymissions&#x2F;maploader&#x2F;reader.dm 192"/></a></aside>
        </h5>
        <p>Fill a given tile with its area/turf/objects/mobs
Variable model is one full map line (e.g /turf/unsimulated/wall{icon_state = &quot;rock&quot;},/area/mine/dangerous/explored)</p>
<p>WORKING :</p>
<ol>
<li>
<p>Read the model string, member by member (delimiter is ',')</p>
</li>
<li>
<p>Get the path of the atom and store it into a list</p>
</li>
<li>
<p>a) Check if the member has variables (text within '{' and '}')</p>
</li>
<li>
<p>b) Construct an associative list with found variables, if any (the atom index in members is the same as its variables in members_attributes)</p>
</li>
<li>
<p>Instanciates the atom with its variables</p>
</li>
</ol></main>
    <footer class="page-footer transparent">
        <div class="footer-copyright blue">
            <div class="container">
                
                paradise.dme at commit
                <a class="white-text" href="https://github.com/yosoyrebelde/Paradise/tree/787b2ad39a8a64df791fb97054ed55da6eddd735">787b2ad</a>
                on branch master &mdash; <a class="white-text" href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.2.1</a>
            </div>
        </div>
    </footer>
</body>

</html>
